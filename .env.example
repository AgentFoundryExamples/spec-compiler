# Application Environment
# Valid values: development, staging, production
APP_ENV=development

# Server Configuration
PORT=8080

# API Keys (DO NOT commit real secrets)
# OpenAI API key for GPT models
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic API key for Claude models
CLAUDE_API_KEY=sk-ant-your-claude-key-here

# Google Cloud Configuration
# GCP Project ID for Cloud resources
GCP_PROJECT_ID=your-gcp-project-id

# Pub/Sub topic for plan status updates
PUBSUB_TOPIC_PLAN_STATUS=plan-status-topic

# Downstream log sink for Cloud Logging
DOWNSTREAM_LOG_SINK=projects/your-project/logs/app-logs

# CORS Configuration
# Comma-separated list of allowed origins (leave empty to disable CORS)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Application Version
# Git SHA or semantic version
APP_VERSION=0.1.0

# Request ID Header
# Header name for request correlation
REQUEST_ID_HEADER=X-Request-Id

# Logging Configuration
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable JSON structured logging (true for Cloud Run)
LOG_JSON=true

# Request Body Limits
# Maximum request body size in bytes (default: 10485760 = 10MB)
MAX_REQUEST_BODY_SIZE_BYTES=10485760

# Idempotency Configuration
# Maximum length for idempotency keys (default: 100)
# Keys exceeding this length are truncated for security
MAX_IDEMPOTENCY_KEY_LENGTH=100

# GitHub API Configuration
# Base URL for GitHub REST API
GITHUB_API_BASE_URL=https://api.github.com

# GitHub Token Minting Service Configuration
# **REQUIRED** for compile endpoint to fetch repository context
# Base URL for the token minting service (Cloud Run service URL)
# Example: https://github-token-service-xxxxx-uc.a.run.app
# Without this, compile requests will fail with HTTP 500
MINTING_SERVICE_BASE_URL=

# Optional authorization header for minting service
# For Cloud Run IAM auth, use a GCP identity token
# Obtain via: gcloud auth print-identity-token
# Or via service account: google.oauth2.id_token.fetch_id_token()
MINTING_SERVICE_AUTH_HEADER=
